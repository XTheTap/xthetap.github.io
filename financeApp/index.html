<!DOCTYPE html>
<html class="no-js" lang="en">
   <head>
      <meta charset="utf-8">
      <title>Your balance</title>
      <meta name="description" content="Finance app">
      <meta name="author" content="Ilya Zhukouski">
      <link rel="stylesheet" href="../css/financeApp.css">
      <link rel="manifest" href="manifest.json">
      <script src="../js/default.js"></script>
      <link rel="shortcut icon" href="../ico.webp" >
   </head>
   <body>
      <section id="bills">
         <div id="accounts">
         </div>

         <a onclick="showSection('addBill')">+ Добавить карту, вклад, кредит...</a> 
      </section>


      <section id="operations">
         <div id="operation">
         </div>

         <div id="operation-toggle" class="add-operation">
            <button id="main-add-btn">➕</button>
            <ul id="operation-options" class="hidden">
               <li><button data-type="income">Доход</button></li>
               <li><button data-type="expense">Расход</button></li>
               <li><button data-type="transfer">Перевод</button></li>
            </ul>
          </div>
      </section>

      <section id="analithic">
         Вы молодец!    
      </section>

      <section id="other">
         <button type="submit">> Импортировать данные</button>
         <button type="submit">> Экспортировать данные</button>
      </section>

      <section id="addBill">
         <form id="accountForm">
            <ul>
               <li><input type="text" id="accountName" placeholder="Название счёта"  required></li>
               <li>
                  <select id="currency">
                     <option value="" disabled selected>Выберите валюту</option>
                  </select>
               </li>
               <li><input type="number" step="any" id="balance" placeholder="Баланс" required></li>
            </ul>
            <button type="submit">> Добавить</button>
         </form>
      </section>

      <section id="addOperation">
         <form id="operationForm">
            <ul>
               <li><h1><input type="number" step="any" id="summ" placeholder="Сумма" required></h1></li>
               <li>
                  <select id="operationType" required>
                     <option value="" disabled selected>Выберите тип операции</option>
                     <option value="expense">Расход</option>
                     <option value="income">Доход</option>
                     <option value="transfer">Перевод</option>
                  </select>
               </li>
               <li> 
                  <select id="bill">
                     <option value="" disabled selected>Выберите счёт</option>
                  </select>
               </li>
               <li>   
                  <select id="tag">
                     <option value="" disabled selected>Выберите тэг</option>
                  </select>
               </li>
               <li><input type="text" id="comment" placeholder="Комментарий"></li>
            </ul>
            <button type="submit">> Добавить</button>
         </form>
      </section>

      <section id="accountDetails" style="display: none;">
         <h2>Детали счёта</h2>
         <div id="accountSummary">
            <h3>Итоги за месяц:</h3>
            <div>
               <h5>Доход:</h5>
               <p id="positiveExpenses"></p>
            </div>
            <div>
               <h5>Расход:</h5>
               <p id="negativeExpenses"></p>
            </div>
         </div>
         <div id="accountOperations"></div>
      </section>

      <template id="operationTemplate">
         <div class="operation">
            <div class="billField">
               <tt class="accountName"></tt>
               <span class="operationAmount"></span>
            </div>
            <div class="operationDetails">
               <small class="operationTag"></small>
               <small class="operationComment"></small>
            </div>
         </div>
      </template>

      <template id="accountTemplate">
         <div class="account">
             <div class="billField">
                 <span class="accountName"></span>
                 <tt class="accountBalance"></tt>
             </div>
         </div>
      </template>

      <nav>
         <ul>
            <li><a onclick="showSection('bills')">Счета</a></li>
            <li><a onclick="showSection('operations')">Операции</a></li>
            <li><a onclick="showSection('analithic')">Аналитика</a></li>
            <li><a onclick="showSection('other')">Ещё</a></li>
         </ul>
      </nav>
   
      <script src="../js/common.js"></script> 
      <script src="../js/bills.js"></script> 
      <script src="../js/operations.js"></script> 
      <script src="../js/selector.js"></script>
      <script src="../js/style.js"></script>
      <script>
         document.addEventListener('DOMContentLoaded', () => {
             const nav = document.querySelector('nav');
             const addOperation = document.querySelector('.add-operation');
             if (nav && addOperation) {
                 const navHeight = nav.offsetHeight;
                 addOperation.style.marginBottom = `${navHeight + 10}px`; // Add 10px spacing
             }
         });
      </script>
   </body>
</html>